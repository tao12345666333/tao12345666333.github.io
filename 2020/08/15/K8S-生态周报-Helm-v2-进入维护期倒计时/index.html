<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><title>K8S 生态周报| Helm v2 进入维护期倒计时 - MoeLove</title><meta name=renderer content="webkit"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta http-equiv=cache-control content="no-transform"><meta http-equiv=cache-control content="no-siteapp"><meta name=theme-color content="#f8f5ec"><meta name=msapplication-navbutton-color content="#f8f5ec"><meta name=apple-mobile-web-app-capable content="yes"><meta name=apple-mobile-web-app-status-bar-style content="#f8f5ec"><script async src=//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script><script>(adsbygoogle=window.adsbygoogle||[]).push({google_ad_client:"ca-pub-1876963677156202",enable_page_level_ads:true});</script><meta name=author content="张晋涛"><meta name=description content="「K8S 生态周报」内容主要包含我所接触到的 K8S 生态相关的每周值得推荐的一些信息。欢迎订阅知乎专栏「k8s生态」。
 Helm v2 将正式废弃 本周，Helm v2 系列发布了 v2.16.10 版本， 这是 Helm v2 的最后一个 bugfix 版本，此后不会再为 Helm v2 提供错误修复。并且在三个月后，将停止为 Helm v2 提供安全补丁。届时， Helm v2 也就完全废弃，不会再去维护了。
如果有在使用 Helm v2 的小伙伴，请尽快升级至 Helm v3， 社区也提供了 Helm 2to3 的工具，可以帮助迁移。
另外，还有个别厂商绑定 Helm v2 提供应用安装/部署服务的，也建议尽快迁移了。
我统计了下，我发布的文章中，有 25 篇与 Helm 相关。包括 Helm v3 的尝试，Helm v2 的废弃计划，从 Helm v2 迁移到 v3 等内容，感兴趣的小伙伴可以看看历史文章。
DockerHub 修改了定价和 TOS DockerHub 本周对其服务收费以及 TOS（Terms of Service）。我们重点来看看本次的修改对我们会有哪些影响吧。
这里重点来看看对免费用户/（未登录）匿名用户的影响。
 流量限制"><meta name=keywords content="MoeLove,Linux,Docker,Kubernetes,Golang,Python,Container,Vim,容器,k8s"><meta name=baidu-site-verification content="jO2rMlnjJi"><meta name=google-site-verification content="googlefe3fc086c62f7210.html"><meta name=generator content="Hugo 0.59.1 with theme even"><link rel=canonical href=https://moelove.info/2020/08/15/K8S-%E7%94%9F%E6%80%81%E5%91%A8%E6%8A%A5-Helm-v2-%E8%BF%9B%E5%85%A5%E7%BB%B4%E6%8A%A4%E6%9C%9F%E5%80%92%E8%AE%A1%E6%97%B6/><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/manifest.json><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link href=/sass/main.min.8c3cbcb0324c2bb4875ceccba4007cbad4b4ac8377f33af9953c3e7684534a50.css rel=stylesheet><link href=/lib/fancybox/jquery.fancybox-3.1.20.min.css rel=stylesheet><meta property="og:title" content="K8S 生态周报| Helm v2 进入维护期倒计时"><meta property="og:description" content="「K8S 生态周报」内容主要包含我所接触到的 K8S 生态相关的每周值得推荐的一些信息。欢迎订阅知乎专栏「k8s生态」。
 Helm v2 将正式废弃 本周，Helm v2 系列发布了 v2.16.10 版本， 这是 Helm v2 的最后一个 bugfix 版本，此后不会再为 Helm v2 提供错误修复。并且在三个月后，将停止为 Helm v2 提供安全补丁。届时， Helm v2 也就完全废弃，不会再去维护了。
如果有在使用 Helm v2 的小伙伴，请尽快升级至 Helm v3， 社区也提供了 Helm 2to3 的工具，可以帮助迁移。
另外，还有个别厂商绑定 Helm v2 提供应用安装/部署服务的，也建议尽快迁移了。
我统计了下，我发布的文章中，有 25 篇与 Helm 相关。包括 Helm v3 的尝试，Helm v2 的废弃计划，从 Helm v2 迁移到 v3 等内容，感兴趣的小伙伴可以看看历史文章。
DockerHub 修改了定价和 TOS DockerHub 本周对其服务收费以及 TOS（Terms of Service）。我们重点来看看本次的修改对我们会有哪些影响吧。
这里重点来看看对免费用户/（未登录）匿名用户的影响。
 流量限制"><meta property="og:type" content="article"><meta property="og:url" content="https://moelove.info/2020/08/15/K8S-%E7%94%9F%E6%80%81%E5%91%A8%E6%8A%A5-Helm-v2-%E8%BF%9B%E5%85%A5%E7%BB%B4%E6%8A%A4%E6%9C%9F%E5%80%92%E8%AE%A1%E6%97%B6/"><meta property="article:published_time" content="2020-08-15T15:39:19+08:00"><meta property="article:modified_time" content="2020-08-15T15:39:19+08:00"><meta itemprop=name content="K8S 生态周报| Helm v2 进入维护期倒计时"><meta itemprop=description content="「K8S 生态周报」内容主要包含我所接触到的 K8S 生态相关的每周值得推荐的一些信息。欢迎订阅知乎专栏「k8s生态」。
 Helm v2 将正式废弃 本周，Helm v2 系列发布了 v2.16.10 版本， 这是 Helm v2 的最后一个 bugfix 版本，此后不会再为 Helm v2 提供错误修复。并且在三个月后，将停止为 Helm v2 提供安全补丁。届时， Helm v2 也就完全废弃，不会再去维护了。
如果有在使用 Helm v2 的小伙伴，请尽快升级至 Helm v3， 社区也提供了 Helm 2to3 的工具，可以帮助迁移。
另外，还有个别厂商绑定 Helm v2 提供应用安装/部署服务的，也建议尽快迁移了。
我统计了下，我发布的文章中，有 25 篇与 Helm 相关。包括 Helm v3 的尝试，Helm v2 的废弃计划，从 Helm v2 迁移到 v3 等内容，感兴趣的小伙伴可以看看历史文章。
DockerHub 修改了定价和 TOS DockerHub 本周对其服务收费以及 TOS（Terms of Service）。我们重点来看看本次的修改对我们会有哪些影响吧。
这里重点来看看对免费用户/（未登录）匿名用户的影响。
 流量限制"><meta itemprop=datePublished content="2020-08-15T15:39:19+08:00"><meta itemprop=dateModified content="2020-08-15T15:39:19+08:00"><meta itemprop=wordCount content="215"><meta itemprop=keywords content="Linux,Weekly,Kubernetes,"><meta name=twitter:card content="summary"><meta name=twitter:title content="K8S 生态周报| Helm v2 进入维护期倒计时"><meta name=twitter:description content="「K8S 生态周报」内容主要包含我所接触到的 K8S 生态相关的每周值得推荐的一些信息。欢迎订阅知乎专栏「k8s生态」。
 Helm v2 将正式废弃 本周，Helm v2 系列发布了 v2.16.10 版本， 这是 Helm v2 的最后一个 bugfix 版本，此后不会再为 Helm v2 提供错误修复。并且在三个月后，将停止为 Helm v2 提供安全补丁。届时， Helm v2 也就完全废弃，不会再去维护了。
如果有在使用 Helm v2 的小伙伴，请尽快升级至 Helm v3， 社区也提供了 Helm 2to3 的工具，可以帮助迁移。
另外，还有个别厂商绑定 Helm v2 提供应用安装/部署服务的，也建议尽快迁移了。
我统计了下，我发布的文章中，有 25 篇与 Helm 相关。包括 Helm v3 的尝试，Helm v2 的废弃计划，从 Helm v2 迁移到 v3 等内容，感兴趣的小伙伴可以看看历史文章。
DockerHub 修改了定价和 TOS DockerHub 本周对其服务收费以及 TOS（Terms of Service）。我们重点来看看本次的修改对我们会有哪些影响吧。
这里重点来看看对免费用户/（未登录）匿名用户的影响。
 流量限制"><!--[if lte IE 9]><script src=https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js></script><![endif]--><!--[if lt IE 9]><script src=https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js></script><script src=https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js></script><![endif]--></head><body><div id=mobile-navbar class=mobile-navbar><div class=mobile-header-logo><a href=/ class=logo>MoeLove</a></div><div class=mobile-navbar-icon><span></span><span></span><span></span></div></div><nav id=mobile-menu class="mobile-menu slideout-menu"><ul class=mobile-menu-list><a href=/about/><li class=mobile-menu-item>About</li></a><a href=/friends/><li class=mobile-menu-item>Friends</li></a><a href=/projects/><li class=mobile-menu-item>Projects</li></a><a href=/post/><li class=mobile-menu-item>Archives</li></a><a href=/tags/><li class=mobile-menu-item>Tags</li></a></ul></nav><div class=container id=mobile-panel><header id=header class=header><div class=logo-wrapper><a href=/ class=logo>MoeLove</a></div><nav class=site-navbar><ul id=menu class=menu><li class=menu-item><a class=menu-item-link href=/about/>About</a></li><li class=menu-item><a class=menu-item-link href=/friends/>Friends</a></li><li class=menu-item><a class=menu-item-link href=/projects/>Projects</a></li><li class=menu-item><a class=menu-item-link href=/post/>Archives</a></li><li class=menu-item><a class=menu-item-link href=/tags/>Tags</a></li></ul></nav></header><main id=main class=main><div class=content-wrapper><div id=content class=content><article class=post><header class=post-header><h1 class=post-title>K8S 生态周报| Helm v2 进入维护期倒计时</h1><div class=post-meta><span class=post-time>2020-08-15</span></div></header><div class=post-toc id=post-toc><h2 class=post-toc-title>文章目录</h2><div class="post-toc-content always-active"><nav id=TableOfContents><ul><li><ul><li><a href=#helm-v2-将正式废弃>Helm v2 将正式废弃</a></li><li><a href=#dockerhub-修改了定价和-tos>DockerHub 修改了定价和 TOS</a></li><li><a href=#rook-v1-4-1-发布>Rook v1.4.1 发布</a></li><li><a href=#上游进展>上游进展</a></li></ul></li></ul></nav></div></div><div class=post-content><blockquote><p>「K8S 生态周报」内容主要包含我所接触到的 K8S 生态相关的每周值得推荐的一些信息。欢迎订阅知乎专栏<a href=https://zhuanlan.zhihu.com/container>「k8s生态」</a>。</p></blockquote><h2 id=helm-v2-将正式废弃>Helm v2 将正式废弃</h2><p>本周，Helm v2 系列发布了 v2.16.10 版本， <strong>这是 Helm v2 的最后一个 bugfix 版本</strong>，此后不会再为 Helm v2 提供错误修复。并且在三个月后，将停止为 Helm v2 提供安全补丁。届时， Helm v2 也就完全废弃，不会再去维护了。</p><p>如果有在使用 Helm v2 的小伙伴，请尽快升级至 Helm v3， 社区也提供了 <a href=https://github.com/helm/helm-2to3 title="helm 2to3">Helm 2to3</a> 的工具，可以帮助迁移。</p><p>另外，还有个别厂商绑定 Helm v2 提供应用安装/部署服务的，也建议尽快迁移了。</p><p>我统计了下，我发布的文章中，有 25 篇与 Helm 相关。包括 <a href=https://zhuanlan.zhihu.com/container>Helm v3 的尝试</a>，<a href=https://zhuanlan.zhihu.com/container>Helm v2 的废弃计划</a>，<a href=https://zhuanlan.zhihu.com/container>从 Helm v2 迁移到 v3</a> 等内容，感兴趣的小伙伴可以看看历史文章。</p><h2 id=dockerhub-修改了定价和-tos>DockerHub 修改了定价和 TOS</h2><p>DockerHub 本周对其服务收费以及 <a href=https://www.docker.com/legal/docker-terms-service title="Docker TOS">TOS（Terms of Service）</a>。我们重点来看看本次的修改对我们会有哪些影响吧。</p><p>这里重点来看看对免费用户/（未登录）匿名用户的影响。</p><ul><li><p><strong>流量限制</strong></p><p>未登录用户每 6 小时，允许 Pull 100 次；
已登录用户每 6 小时，允许 Pull 200 次；</p></li><li><p>镜像保留策略变更</p><p>非活跃镜像，保留周期为 6 个月。在清理之前，会发送通知告知会进行清理等操作。其中， <strong>非活跃镜像</strong> 指的是无 push 或 pull 操作等。</p></li></ul><p>这个影响有多大呢？首先是流量限制方面，如果你维护着一个包含 20 个 Node 的 Kubernetes 集群，并假设它们的公网出口一致。那你 6 个小时内，平均每个 Node 上只能从 DockerHub 拉取 5 次镜像。</p><p>在镜像保留策略这里，如果你曾经构建过一个镜像，但没什么人用，且很久未更新，那就极有可能被清理掉了。你可以通过 DockerHub 页面上镜像的更新时间来查看下镜像的情况。当然，Docker 团队也宣称会在 DockerHub 上提供一个 Dashboard ，方便查看当前镜像的健康程度。</p><p>这个镜像保留策略的生效时间，是从今年的 11 月 1 日开始实施，届时大家最好关注下自己的镜像。</p><p>最后，说一下 Docker 为何要增加这个“镜像保留策略” 的条款，那是因为当前 DockerHub 保留的镜像数据超过了 15PB，但其中有 4.5PB 左右属于无效镜像，通过此次新的策略，应该可以为 DockerHub 节约不少的（S3）存储支出。</p><h2 id=rook-v1-4-1-发布>Rook v1.4.1 发布</h2><p>Rook 也迎来了其 v1.4 系列版本，此次版本中有一些非常值得关注的内容：</p><ul><li><p>不再支持来自 Ceph-CSI 驱动的 Alpha 快照，只支持 Beta 快照了；</p><ul><li>此版本中默认部署了 <a href=https://github.com/ceph/ceph-csi/releases/tag/v3.0.0 title="ceph-csi 3.0">Ceph-CSI 3.0</a>;</li><li>包括多架构的 Docker 镜像支持；</li><li>可以为 RBD 创建或删除 Beta 快照，同时移除 Alpha 快照的支持；</li><li>可以从 RBD 快照创建 PVC ；</li><li>可以为 RDB 和 CephFS 支持 ROX 卷；</li></ul></li><li><p>如果 dashboard 模块开启，则将会为 ceph 对象存储开启 dashboard；</p></li><li><p>实验性的增加了一个 admission controller ，可进行 CRD 校验，但是默认是不开启的；</p></li><li><p><code>CephObjectStore</code> CRD 将其健康状态展示在 <code>Status</code> 字段中了；</p></li><li><p><code>OSD</code> 可以通过在 <code>storageClassDeviceSet</code> 设置 <code>encrypted: true</code> 进行加密了；</p></li></ul><h2 id=上游进展>上游进展</h2><ul><li><a href=https://github.com/kubernetes/kubernetes/pull/93929 title=#93929>#93929</a> 对 Ingress TLS 的 secretName 增加了校验。当创建了一个 <code>networking.k8s.io/v1</code> 的 Ingress 对象，会校验 <code>spec.tls[*].secretName</code> 字段；</li><li>Kubernetes v1.19 计划于 8 月 25 日发布，届时默认 Go 版本为 v1.15；</li></ul><hr><p>欢迎订阅我的文章公众号【MoeLove】</p><p><img src=https://raw.githubusercontent.com/tao12345666333/collection/master/images/my_qrcode.jpg alt=TheMoeLove></p></div><div class=post-copyright><p class=copyright-item><span class=item-title>文章作者</span>
<span class=item-content>张晋涛</span></p><p class=copyright-item><span class=item-title>上次更新</span>
<span class=item-content>2020-08-15</span></p><p class=copyright-item><span class=item-title>许可协议</span>
<span class=item-content><a rel="license noopener" href=https://creativecommons.org/licenses/by-sa/4.0/ target=_blank>CC BY-SA 4.0</a></span></p></div><div class=post-reward><input type=checkbox name=reward id=reward hidden>
<label class=reward-button for=reward>赞赏支持</label><div class=qr-code><label class=qr-code-image for=reward><img class=image src=https://raw.githubusercontent.com/tao12345666333/collection/master/images/wx_pay.jpg>
<span>微信打赏</span></label>
<label class=qr-code-image for=reward><img class=image src=https://raw.githubusercontent.com/tao12345666333/collection/master/images/alipay.jpg>
<span>支付宝打赏</span></label></div></div><footer class=post-footer><div class=post-tags><a href=/tags/linux/>Linux</a>
<a href=/tags/weekly/>Weekly</a>
<a href=/tags/kubernetes/>Kubernetes</a></div><nav class=post-nav><a class=prev href=/2020/08/23/K8S-%E7%94%9F%E6%80%81%E5%91%A8%E6%8A%A5-Google-%E9%80%89%E6%8B%A9-Cilium-%E4%BD%9C%E4%B8%BA-GKE-%E4%B8%8B%E4%B8%80%E4%BB%A3%E6%95%B0%E6%8D%AE%E9%9D%A2/><i class="iconfont icon-left"></i><span class="prev-text nav-default">K8S 生态周报| Google 选择 Cilium 作为 GKE 下一代数据面</span>
<span class="prev-text nav-mobile">上一篇</span></a>
<a class=next href=/2020/08/09/K8S-%E7%94%9F%E6%80%81%E5%91%A8%E6%8A%A5-runc-v1.0-rc92-%E5%8F%91%E5%B8%83/><span class="next-text nav-default">K8S 生态周报| runc v1.0-rc92 发布</span>
<span class="next-text nav-mobile">下一篇</span>
<i class="iconfont icon-right"></i></a></nav></footer></article></div><div id=gitalk-container></div><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css crossorigin=anonymous><script src=https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js crossorigin=anonymous></script><script type=text/javascript>var gitalk=new Gitalk({id:'2020-08-15 15:39:19 \x2b0800 CST',title:'K8S 生态周报| Helm v2 进入维护期倒计时',clientID:'68312db64e870efbd0a0',clientSecret:'a062c51a15de76546aa52351e0dd5b3cfb0cc7d8',repo:'tao12345666333.github.io',owner:'tao12345666333',admin:['tao12345666333'],body:decodeURI(location.href)});gitalk.render('gitalk-container');</script><noscript>Please enable JavaScript to view the <a href=https://github.com/gitalk/gitalk>comments powered by gitalk.</a></noscript></div></main><footer id=footer class=footer><div class=social-links><a href=mailto:zhangjintao9020@gmail.com class="iconfont icon-email" title=email></a><a href=https://twitter.com/BeierTao class="iconfont icon-twitter" title=twitter></a><a href=https://github.com/tao12345666333 class="iconfont icon-github" title=github></a><a href=http://weibo.com/9020taobeier class="iconfont icon-weibo" title=weibo></a><a href=https://www.zhihu.com/people/TaoBeier class="iconfont icon-zhihu" title=zhihu></a><a href=https://moelove.info/index.xml type=application/rss+xml class="iconfont icon-rss" title=rss></a></div><div class=copyright><span class=power-by>由 <a class=hexo-link href=https://gohugo.io>Hugo</a> 强力驱动</span>
<span class=division>|</span>
<span class=theme-info>主题 -
<a class=theme-link href=https://github.com/olOwOlo/hugo-theme-even>Even</a></span>
<span class=copyright-year>&copy;
2013 -
2020
<span class=heart><i class="iconfont icon-heart"></i></span><span class=author>张晋涛</span></span></div></footer><div class=back-to-top id=back-to-top><i class="iconfont icon-up"></i></div></div><script type=text/javascript src=/lib/jquery/jquery-3.2.1.min.js></script><script type=text/javascript src=/lib/slideout/slideout-1.0.1.min.js></script><script type=text/javascript src=/lib/fancybox/jquery.fancybox-3.1.20.min.js></script><script type=text/javascript src=/js/main.min.d7b7ada643c9c1a983026e177f141f7363b4640d619caf01d8831a6718cd44ea.js></script></body></html>